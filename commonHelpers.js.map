{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '33291155-7539ac0bf1c0d1be65bb6c22f';\n\nfunction getPictures(searchQuery) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  // 'https://pixabay.com/api/?key=33291155-7539ac0bf1c0d1be65bb6c22f&q=searchQuery...'\n  return fetch(`${BASE_URL}?${params}`).then(res => {\n    if (!res.ok) throw new Error(res.status);\n    return res.json();\n  });\n}\n\nexport { getPictures };\n","function createGalleryCard(hits) {\n  return hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<div class=\"photo-card\">\n     <a class=\"photo-card__link\" href=\"${largeImageURL}\"> <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" /></a>\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b>${likes}\n        </p>\n        <p class=\"info-item\">\n          <b>Views</b>${views}\n        </p>\n        <p class=\"info-item\">\n          <b>Comments</b>${comments}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b>${downloads}\n        </p>\n      </div>\n    </div>`;\n      }\n    )\n    .join('');\n}\nexport default function appendCards(hits, container) {\n  container.insertAdjacentHTML('beforeend', createGalleryCard(hits));\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPictures } from './js/pixabay-api.js';\nimport appendCards from './js/render-functions.js';\n\nconst refs = {\n  searchForm: document.getElementById('search-form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader-container'),\n};\n\nconst hiddenClass = 'hidden';\n\nconst lightbox = new SimpleLightbox('.photo-card a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nrefs.searchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const searchQuery = form.elements.searchQuery.value.trim();\n\n  if (!searchQuery) {\n    iziToast.error({\n      position: 'topRight',\n      message: 'Empty query!',\n    });\n    return;\n  }\n\n  refs.loader.classList.remove(hiddenClass);\n\n  getPictures(searchQuery)\n    .then(({ hits, totalHits }) => {\n      if (totalHits === 0) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      refs.gallery.innerHTML = '';\n      appendCards(hits, refs.gallery);\n      lightbox.refresh();\n    })\n    .catch(err =>\n      iziToast.error({\n        position: 'topRight',\n        message: err.message,\n      })\n    )\n    .finally(() => {\n      form.reset();\n      refs.loader.classList.add(hiddenClass);\n    });\n}\n"],"names":["BASE_URL","API_KEY","getPictures","searchQuery","params","res","createGalleryCard","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","appendCards","container","refs","hiddenClass","lightbox","SimpleLightbox","handleSearch","event","form","iziToast","totalHits","err"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAYC,EAAa,CAChC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAGD,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAAE,KAAKC,GAAO,CAChD,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAMA,EAAI,MAAM,EACvC,OAAOA,EAAI,MACf,CAAG,CACH,CCjBA,SAASC,EAAkBC,EAAM,CAC/B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,yCAC0BL,CAAa,gBAAgBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wBAGxEC,CAAK;AAAA;AAAA;AAAA,wBAGLC,CAAK;AAAA;AAAA;AAAA,2BAGFC,CAAQ;AAAA;AAAA;AAAA,4BAGPC,CAAS;AAAA;AAAA;AAAA,WAKhC,EACA,KAAK,EAAE,CACZ,CACe,SAASC,EAAYR,EAAMS,EAAW,CACnDA,EAAU,mBAAmB,YAAaV,EAAkBC,CAAI,CAAC,CACnE,CC3BA,MAAMU,EAAO,CACX,WAAY,SAAS,eAAe,aAAa,EACjD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,mBAAmB,CACpD,EAEMC,EAAc,SAEdC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAK,WAAW,iBAAiB,SAAUI,CAAY,EAEvD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbnB,EAAcoB,EAAK,SAAS,YAAY,MAAM,OAEpD,GAAI,CAACpB,EAAa,CAChBqB,EAAS,MAAM,CACb,SAAU,WACV,QAAS,cACf,CAAK,EACD,MACD,CAEDP,EAAK,OAAO,UAAU,OAAOC,CAAW,EAExChB,EAAYC,CAAW,EACpB,KAAK,CAAC,CAAE,KAAAI,EAAM,UAAAkB,KAAgB,CAC7B,GAAIA,IAAc,EAChB,MAAM,IAAI,MACR,0EACV,EAEMR,EAAK,QAAQ,UAAY,GACzBF,EAAYR,EAAMU,EAAK,OAAO,EAC9BE,EAAS,QAAO,CACtB,CAAK,EACA,MAAMO,GACLF,EAAS,MAAM,CACb,SAAU,WACV,QAASE,EAAI,OACrB,CAAO,CACF,EACA,QAAQ,IAAM,CACbH,EAAK,MAAK,EACVN,EAAK,OAAO,UAAU,IAAIC,CAAW,CAC3C,CAAK,CACL"}